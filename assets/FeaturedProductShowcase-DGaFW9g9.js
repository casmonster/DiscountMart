import{j as e,a as h}from"./vendor-BgAWyjm8.js";import{b as P,t as C,a as S,g as L,x as F,B as r,L as M}from"./index-ChWiFecg.js";import{f as o,c as d}from"./currency-ByeFX4iW.js";import{H as I}from"./heart-D1C9vxA1.js";import{M as W,P as T}from"./plus-BSOfSnyd.js";import{S as V}from"./shopping-cart-Ju1GDCqn.js";function z(...s){return C(S(s))}const B=P("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:s,variant:i,...t}){return e.jsx("div",{className:z(B({variant:i}),s),...t})}function H({product:s,properties:i=[]}){const[t,m]=h.useState(1),{addToCart:u,isLoading:g}=L(),{isInWishlist:f,toggleWishlist:v}=F(),c=f(s.id),x=s.stockLevel==="In Stock",j=s.stockLevel==="Low Stock",b=h.useMemo(()=>s.discountPrice?Math.round((s.price-s.discountPrice)/s.price*100):0,[s.price,s.discountPrice]),N=()=>{u(s.id,t)},w=()=>m(a=>a+1),y=()=>m(a=>Math.max(1,a-1)),p=()=>{v(s)},k=a=>{var l;return a.type==="color"?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-6 h-6 rounded-full mr-2 border border-gray-300",style:{backgroundColor:a.value}}),e.jsx("span",{children:a.value})]}):a.type==="texture"?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-md mr-2 border border-gray-300 bg-cover bg-center",style:{backgroundImage:`url(${a.value})`}}),e.jsx("span",{children:(l=a.value.split("/").pop())==null?void 0:l.split(".")[0]})]}):e.jsx("span",{children:a.value})};return e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-12",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"md:w-1/2 relative",children:[s.isNew&&e.jsx(n,{className:"absolute top-4 right-4 bg-primary text-white",children:"New"}),s.discountPrice&&e.jsxs(n,{className:"absolute top-4 left-4 bg-red-500 text-white",children:[b,"% OFF"]}),e.jsx("div",{className:"h-80 md:h-full w-full overflow-hidden bg-gray-50",children:e.jsx("img",{src:s.imageUrl,alt:s.name||"Product image",className:"w-full h-full object-cover object-center transform hover:scale-105 transition-transform duration-500"})})]}),e.jsxs("div",{className:"md:w-1/2 p-6 md:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 hover:text-primary transition-colors",children:s.name}),e.jsx("div",{className:"flex items-center mt-2 mb-4",children:s.discountPrice?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl text-blue-800 font-bold mr-3",children:o(d(s.discountPrice))}),e.jsx("span",{className:"text-gray-500 text-lg line-through",children:o(d(s.price))})]}):e.jsx("span",{className:"text-2xl text-blue-800 font-bold",children:o(d(s.price))})})]}),e.jsx(r,{variant:c?"default":"outline",size:"icon",className:c?"text-white":"text-gray-500",onClick:p,children:e.jsx(I,{className:`h-5 w-5 ${c?"fill-current":""}`})})]}),e.jsx("p",{className:"text-gray-600 mt-2 mb-6 line-clamp-3",children:s.description}),i.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Product Details"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:i.map((a,l)=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[a.name,":"]})," ",k(a)]},l))})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"flex items-center mb-2",children:x?e.jsx(n,{variant:"outline",className:"text-success border-success",children:"In Stock"}):j?e.jsx(n,{variant:"outline",className:"text-warning border-warning",children:"Low Stock"}):e.jsx(n,{variant:"outline",className:"text-destructive border-destructive",children:"Out of Stock"})}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{variant:"outline",size:"icon",className:"rounded-r-none h-9 w-9",onClick:y,disabled:t<=1,children:e.jsx(W,{className:"h-3 w-3"})}),e.jsx("div",{className:"px-3 py-2 border-t border-b border-gray-300 text-center w-10",children:t}),e.jsx(r,{variant:"outline",size:"icon",className:"rounded-l-none h-9 w-9",onClick:w,children:e.jsx(T,{className:"h-3 w-3"})})]}),e.jsxs(r,{className:"flex-1",onClick:N,disabled:g||!x,children:[e.jsx(V,{className:"h-4 w-4 mr-2"})," Add to Cart"]})]})]}),e.jsx(M,{to:`/product/${s.slug}`,children:e.jsx(r,{variant:"link",className:"px-0 text-primary",children:"View Full Details"})})]})]})})}export{H as F};
