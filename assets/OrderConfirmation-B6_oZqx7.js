import{u as j,a as p,j as s}from"./vendor-BgAWyjm8.js";import{d as f,e as N,C as d,h as o,l as m,n as x,i as y,k as g,m as b,L as v,B as w}from"./index-ChWiFecg.js";import{S as r}from"./skeleton-vNwRW11z.js";import{f as l,c as n}from"./currency-ByeFX4iW.js";import{C}from"./circle-check-big-DZMb4XzC.js";import{a as M,P as S,M as k}from"./phone-D2Vx96AD.js";function F({params:h}){const{id:c}=h;f();const i=N(),{data:a,isLoading:u,error:t}=j({queryKey:[`/api/orders/${c}`],queryFn:async()=>{const e=await fetch(`/api/orders/${c}`);if(!e.ok)throw new Error("Order not found");return e.json()}});return p.useEffect(()=>{t&&i("/not-found")},[t,i]),u?s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:s.jsxs(d,{children:[s.jsxs(o,{className:"text-center",children:[s.jsx(r,{className:"h-8 w-1/2 mx-auto mb-2"}),s.jsx(r,{className:"h-4 w-3/4 mx-auto"})]}),s.jsxs(m,{className:"space-y-6",children:[s.jsx(r,{className:"h-20 w-full"}),s.jsx(r,{className:"h-40 w-full"})]}),s.jsx(x,{children:s.jsx(r,{className:"h-10 w-full"})})]})}):a?s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:s.jsxs(d,{children:[s.jsxs(o,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:s.jsx(C,{className:"h-12 w-12 text-success"})})}),s.jsx(y,{className:"text-2xl",children:"Order Successfully Placed!"}),s.jsx(g,{children:"Thank you for your order. We've received your request and will begin processing it immediately."})]}),s.jsxs(m,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Order Number:"}),s.jsxs("p",{className:"font-medium",children:["#",a.id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Date:"}),s.jsx("p",{className:"font-medium",children:new Date(a.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Total Amount:"}),s.jsx("p",{className:"font-medium text-blue-800",children:l(n(a.totalAmount))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Status:"}),s.jsx("p",{className:"font-medium uppercase",children:a.status})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"bg-gray-100 p-2 rounded-full mr-3",children:s.jsx(M,{className:"h-4 w-4 text-gray-600"})}),s.jsx("span",{children:a.customerEmail})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"bg-gray-100 p-2 rounded-full mr-3",children:s.jsx(S,{className:"h-4 w-4 text-gray-600"})}),s.jsx("span",{children:a.customerPhone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3",children:[a.items.map(e=>s.jsxs("div",{className:"flex items-center py-2 border-b border-gray-200 last:border-b-0",children:[s.jsx("img",{src:e.product.imageUrl,alt:e.product.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"ml-3 flex-grow",children:[s.jsx("p",{className:"font-medium",children:e.product.name}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",e.quantity," Ã— ",l(n(e.price))]}),s.jsx("p",{className:"font-medium text-blue-800",children:l(n(e.quantity*e.price))})]})]})]},e.product.id)),s.jsx(b,{className:"my-3"}),s.jsxs("div",{className:"flex justify-between font-bold",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-blue-800",children:l(n(a.totalAmount))})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-bold mb-2 flex items-center",children:[s.jsx(k,{className:"h-5 w-5 mr-1"})," Pickup Information"]}),s.jsx("p",{className:"text-sm mb-3",children:"Your order will be ready for pickup at our store within one week. We'll send you an email notification as soon as it's available."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:"DiscountMart"}),s.jsx("p",{children:"15 KN 4 Ave"}),s.jsx("p",{children:"Downtown Kigali, Rwanda"}),s.jsx("p",{className:"mt-2",children:"Store Hours: Mon-Fri 9AM-8PM, Sat 9AM-6PM, Sun 10AM-5PM"})]})]})]}),s.jsx(x,{className:"flex justify-center",children:s.jsx(v,{to:"/",children:s.jsx(w,{children:"Continue Shopping"})})})]})}):null}export{F as default};
